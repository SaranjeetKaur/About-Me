<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Saranjeet Kaur Bhogal">
<meta name="dcterms.date" content="2023-04-11">
<meta name="description" content="Blog post about attending APAN55 in Kathmandu, Nepal">

<title>Attending an in-person Asia Pacific Advanced Network (APAN) meeting for the first time – Saranjeet Kaur Bhogal</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<script src="../../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap-1db3f541d99483cdc7a0d9cf38862b2c.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../../styles.css">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../../index.html" class="navbar-brand navbar-brand-logo">
    </a>
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">Saranjeet Kaur Bhogal</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../talks/index.html"> 
<span class="menu-text">Talks</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../blogs/index.html"> 
<span class="menu-text">Blogs</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../projects/index.html"> 
<span class="menu-text">Projects</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/SaranjeetKaur"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/saranjeet-kaur-b-48ab769b/"> <i class="bi bi-linkedin" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://orcid.org/0000-0002-7038-1457"> <i class="bi bi-globe" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="mailto:kaur.saranjeet3@gmail.com"> <i class="bi bi-envelope" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
        
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Attending an in-person Asia Pacific Advanced Network (APAN) meeting for the first time</h1>
  <div class="quarto-categories">
    <div class="quarto-category">APAN</div>
    <div class="quarto-category">Community Building</div>
    <div class="quarto-category">Nepal</div>
    <div class="quarto-category">Research Software Engineering</div>
    <div class="quarto-category">Asia</div>
  </div>
  </div>

<div>
  <div class="description">
    Blog post about attending APAN55 in Kathmandu, Nepal
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Saranjeet Kaur Bhogal </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">April 11, 2023</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p><em>Also posted on Software Sustainability Institute’s <a href="https://www.software.ac.uk/blog/attending-person-asia-pacific-advanced-network-apan-meeting-first-time">blog</a></em>.</p>
<p>Attending the <a href="https://apan55.apan.net">55th Asia Pacific Advanced Network (APAN)</a> meeting was a remarkable experience for me as it was my first time attending an in-person <a href="https://apan.net">APAN</a> meeting as an APAN Fellow. Even though I had participated in APAN53 online before, the opportunity to attend the in-person meeting held in Kathmandu, Nepal provided a distinctive experience. Day 1 of the APAN55 meeting started with Delegate registration. Following this I participated in the APAN 101 gathering, where Markus Buchhorn from Australia served as host and provided an overview of APAN and its Fellowship program. Markus explained how APAN came into existence in 1995 and was established in 2009 as a partnership between various National Research and Education Networks (NRENs) that support research and education in various regions by linking universities, higher education institutions, government agencies, and providing resources such as supercomputers and cloud infrastructure. He also discussed the APAN structure, which includes working groups, task forces, and committees that form the backbone of the organisation. Additionally, he described the activities that typically occur during an APAN meeting, which has evolved into a conference, such as working group and committee sessions, plenaries, keynotes, general assembly, social events, workshops, side meetings, and the council meeting. This session offered me valuable insights into the APAN meetings. Following this, I attended the RPKI Theory + Hands-On tutorial session, led by Dibya Khatiwada from Nepal. This session covered IP routing and Validation States, which was a new topic for me. I gained some insights into the technical jargon and field of IP routing.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="preview.png" class="img-fluid figure-img" width="600"></p>
<figcaption>(From left to right and top to bottom): Welcome to APAN55 banner, Registration for APAN55, My ID Card for APAN55, Markus Buchhorn providing an overview of APAN, Dibya Khatiwada leading the RPKI Theory + Hands-On tutorial session.</figcaption>
</figure>
</div>
<p>Later on, I joined a session hosted by the Cloud Working Group (CloudWG). During this session, Eric Yen from Taiwan presented an update on Science Cloud in Academia Sinica. Eric explained that the mission of the CloudWG is to promote and share the development of Cloud-based ICT technology and applications. He also described the CloudWG as an open collaboration platform that enables the sharing of case studies, solutions, technologies, and user community requirements, as well as collaboration between user communities and other Working Groups at APAN. Eric shared the vision of an Open Science Cloud that aims to drive transformative discoveries in all areas of S&amp;E research and education through community-driven, research-focused, accessible, open, transparent, and trustworthy means. Eric concluded by inviting participants to collaborate with their group.</p>
<p>JongWon Kim from South Korea presented a discussion on “Preparing Cloud-native &amp; Data-centric Computing for Live X+AI Services.” The discussion focused on how to prepare for a futuristic computing environment to enable seamless live interaction of training and inference for emerging X+AI services. The ongoing preparation aligns with the upcoming digital transformation and leverages the latest trends for cloud-native and data-centric edge computing paradigms to facilitate open and federated collaboration of diversified R&amp;D communities.</p>
<p>Lastly, Mir Muhammad Suleman Sarwar from South Korea spoke on IBN for overlay networks in Cloud Intent-Based Networking (IBN) for deploying and managing L2 overlay networks such as GENEVE tunnels between OpenStack based multiple clouds. The discussion centred on how multiple clouds use the overlay network to share resources and how the IBN application can deploy microstack-based OpenStack Clouds by providing system credentials, after which a network administrator can deploy an overlay network between all the Cloud nodes using the IBN application based on ML results. The session provided a valuable opportunity for me to learn more about the CloudWG at APAN and the developments and updates presented in the session.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="present.png" class="img-fluid figure-img" width="600"></p>
<figcaption>Presentations at the Cloud Working Group Session</figcaption>
</figure>
</div>
<p>On day one, I wrapped up my schedule by attending the session titled “iFIRExMAN - Setting up eduroam in your federation infrastructure,” which was hosted by Irfan Hakim and Muhammad Farhan Sjaugi from Malaysia. The session discussed how to set up and configure a Radius service using the same Kubernetes infrastructure as one’s identity federation. This Radius service would serve as the central point for all eduroam authentication in a country and could also be used to connect to the global Radius infrastructure. This would enable researchers, staff, and students to access resources globally and also allow international researchers to access resources while travelling in other countries.</p>
<p>During day 2, I attended the session “iFIRExMAN - Setting up eduroam in your federation infrastructure” again, which was hosted by Irfan Hakim and Muhammad Farhan Sjaugi from Malaysia. This session was followed by a talk by Terry Smith from Australia on “iFIRExMAN - Joining eduGAIN”. The latter session discussed eduGAIN, which is a federation of federations providing access to millions of identities and thousands of services. I learned that connecting a federation to eduGAIN could encourage universities and research institutions to join the federation. Terry Smith’s talk covered the process of joining eduGAIN, its benefits, expectations from members, and the potential challenges that one may encounter.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="edugain.png" class="img-fluid figure-img" width="600"></p>
<figcaption>iFIRExMAN and eduGAIN sessions</figcaption>
</figure>
</div>
<p>On day 2, the organisers hosted the Opening Ceremony and Opening Keynote, delivered by Dr Arun Bhakta Shreshtha and Purnima Shreshtha. During the ceremony, a Memorandum of Understanding for KISTI - Asia-Pacific Europe Ring was signed. Both Keynote speakers focused on the impact of climate change on the Himalayan region. Dr Arun Bhakta Sheshtha emphasised the global importance of the Hindu Kush Himalaya or the Third Pole, with its monsoon-dominated climate providing essential resources such as food, energy, water, and carbon, as well as significant cultural and biological diversity. Meanwhile, Purnima Shreshtha shared insights into the life of the Himalayan people.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="keynote.png" class="img-fluid figure-img" width="600"></p>
<figcaption>(From top to bottom) Opening Keynote by Dr Arun Bhakta Shreshtha and Purnima Shreshtha, Signing of MoU for KISTI - Asia-Pacific Europe Ring</figcaption>
</figure>
</div>
<p>Following the Opening Ceremony and Keynote, I participated in a session called “The IPv4/IPv6 Joint Research Project Updates”. During this session, a review of the joint IPv6 project was presented by Changqing An from Beijing. Qianli Zhang from Tsinghua University delivered a report on global cyberspace surveying and mapping. Mohammad Tawrit from Dhaka presented a review of his participation in the BGP watch portal, while Dhammika Lalantha from Sri Lanka discussed the user experience and offered suggestions for improving the BGP watch platform.</p>
<p>During day 3 of the event, I gave a presentation entitled “Research Software Engineering (RSE) Asia Association: Journey and Future Plans” at the “Open and Sharing Data Working Group (OSDWG): Asia Pacific Open-Sharing Data and NRENs Open Science” session. Mehul Raval also gave a presentation on initiatives for open data creation and sharing at Ahmedabad University, and Markus Buchhorm from Australia spoke about implementing good practices from Australian Open Science in the APAN community. Additionally, I shared swag for the RSE Asia Association and the <a href="https://we-are-ols.org">Open Life Science</a> programme, which were sponsored by the Open Life Science programme. During the session, I also conducted a task in which participants were asked to share their ideas on Research Software Engineering as a career path and how open science could benefit researchers globally. I collected the responses and compiled them into a <a href="https://x.com/RSE_Asia/status/1635942735948414978?s=20">Twitter thread</a>, tagging those who gave permission and maintaining anonymity for those who requested it. Later, I attended the IAM Task Force - eduGAIN Steering Group meeting, which was led by Terry Smith.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="talk.png" class="img-fluid figure-img" width="600"></p>
<figcaption>(From left to right) RSE Asia Association swags, My presentation about the RSE Asia Association</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="session.png" class="img-fluid figure-img" width="600"></p>
<figcaption>(From left to right) I conducted a task for the RSE Asia Association, Twitter thread about the task</figcaption>
</figure>
</div>
<p>During Day 4, I spent time distributing swag and interacting with participants. Later, I attended the APAN55 Council Meeting, which was led by Markus Buchhorn. During the meeting, I learned about several updates taking place at APAN. Markus announced that Liana Jacinta would be the new General Manager of APAN and Shaan Sivagurunathan would be the new Secretariat of APAN, in addition to renewals of several agreements at APAN. There were also discussions about potential areas for improvement at APAN and how the community could contribute to those efforts.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="council.png" class="img-fluid figure-img" width="600"></p>
<figcaption>Markus Buchhorn presenting at the APAN55 Council meeting</figcaption>
</figure>
</div>
<p>During another session on “Sustaining NREN Services for the Future - FileSender and more,” I had the opportunity to hear from Ben Martin, the Lead Developer of FileSender, who discussed the roadmap for FileSender v3 and how it could benefit the research and education community. Brook Schofield from the FileSender.Asia project also presented on how the project could benefit NRENs and how to ensure its sustainability in the long term. The fourth day of the event concluded with a closing social dinner, during which I met Andrew Howard from National Computational Infrastructure, Canberra. Andrew was gracious enough to introduce me to several attendees and we discussed the potential for future collaborations with the RSE Asia Association.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="social.png" class="img-fluid figure-img" width="600"></p>
<figcaption>(From left to right) Presentation by the FileSender.Asia project, Myself with Andrew Howard at the closing social dinner</figcaption>
</figure>
</div>
<p>During the last day of APAN55, I participated in the closing plenary. Among the speakers was Eric Huizer, CEO of GEANT, who discussed the importance of fostering community spirit, promoting service, and encouraging innovation in the global REN community. He emphasised the principles of doing good, doing right, and doing better to achieve these goals. Afterwards, there was a session titled “Sensitising on the Potential of Research and Education Networks,” which aimed to raise awareness among universities and other knowledge communities about the potential benefits of research and education networks. This session was open to APAN participants and featured senior officials from various universities and colleges in Nepal. Leaders from different NRENs also participated and shared their activities to inform and educate the local attendees.</p>
<p>The General Assembly marked the final session of APAN55, during which several important announcements were made. One such announcement was the official appointment of Liana Jacinta as the new General Manager of APAN. Rajan Parajuli from the Nepal Research and Education Network gave a brief overview of the conference and its origins, and also shared how they planned to host the first in-person and online APAN meeting, post-pandemic. Additionally, the APAN55 fellows were presented with certificates during the General Assembly. Finally, the hosts of the next meeting, APAN56, were invited onto the stage to launch the event, which is scheduled to be held in Sri Lanka from August 21st to 25th 2023!</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assembly.png" class="img-fluid figure-img" width="600"></p>
<figcaption>(From left to right and top to bottom) Liana Jacinta presenting at the APAN55 General Assembly, Rajan Parajuli presenting at the APAN55 General Assembly, All the Fellows at APAN55 General Assembly, Some highlights from behind-the-scenes of organising APAN55, APAN56 official launch presentation</figcaption>
</figure>
</div>



</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/SaranjeetKaur\.github\.io\/About-Me\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>